{"ast":null,"code":"var _jsxFileName = \"/workspace/4not2021-1/front-end/src/pages/Editar/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, ConteudoForm, ConteudoTitulo, Titulo, BotaoAcao, ButtonInfo, AlertSuccess, AlertDanger, Form, Label, Input, ButtonWarning } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Editar = props => {\n  _s();\n\n  const [id] = useState(props.match.params.id);\n  const [titulo, setTitulo] = useState('');\n  const [descricao, setDescricao] = useState('');\n  const [status, setStatus] = useState({\n    type: '',\n    mensagem: ''\n  });\n\n  const editProduto = async e => {\n    e.preventDefault();\n    await fetch(\"http://localhost/celke/editar.php\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id,\n        titulo,\n        descricao\n      })\n    }).then(response => response.json()).then(responseJson => {\n      console.log(responseJson);\n\n      if (responseJson.erro) {\n        setStatus({\n          type: 'erro',\n          mensagem: responseJson.mensagem\n        });\n      } else {\n        setStatus({\n          type: 'success',\n          mensagem: responseJson.mensagem\n        });\n      }\n    }).catch(() => {\n      setStatus({\n        type: 'erro',\n        mensagem: \"Produto não editado com sucesso, tente mais tarde!\"\n      });\n    });\n  };\n\n  useEffect(() => {\n    const getProduto = async () => {\n      await fetch(\"http://localhost/celke/visualizar.php?id=\" + id).then(response => response.json()).then(responseJson => {\n        setTitulo(responseJson.produto.titulo);\n        setDescricao(responseJson.produto.descricao);\n      });\n    };\n\n    getProduto();\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(ConteudoForm, {\n      children: [/*#__PURE__*/_jsxDEV(ConteudoTitulo, {\n        children: [/*#__PURE__*/_jsxDEV(Titulo, {\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(BotaoAcao, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(ButtonInfo, {\n              children: \"Listar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), status.type === 'erro' ? /*#__PURE__*/_jsxDEV(AlertDanger, {\n        children: status.mensagem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 43\n      }, this) : \"\", status.type === 'success' ? /*#__PURE__*/_jsxDEV(AlertSuccess, {\n        children: status.mensagem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 46\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: editProduto,\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"T\\xEDtulo: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"titulo\",\n          placeholder: \"T\\xEDtulo do produto\",\n          value: titulo,\n          onChange: e => setTitulo(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          children: \"Descri\\xE7\\xE3o: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"descricao\",\n          placeholder: \"Descri\\xE7\\xE3o do produto\",\n          value: descricao,\n          onChange: e => setDescricao(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ButtonWarning, {\n          type: \"submit\",\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Editar, \"q94Y3g1OUgY2QGHGwEL2nlXXe5o=\");\n\n_c = Editar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Editar\");","map":{"version":3,"sources":["/workspace/4not2021-1/front-end/src/pages/Editar/index.js"],"names":["React","useState","useEffect","Link","Container","ConteudoForm","ConteudoTitulo","Titulo","BotaoAcao","ButtonInfo","AlertSuccess","AlertDanger","Form","Label","Input","ButtonWarning","Editar","props","id","match","params","titulo","setTitulo","descricao","setDescricao","status","setStatus","type","mensagem","editProduto","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","responseJson","console","log","erro","catch","getProduto","produto","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Container, ConteudoForm, ConteudoTitulo, Titulo, BotaoAcao, ButtonInfo, AlertSuccess, AlertDanger, Form, Label, Input, ButtonWarning } from './styles';\r\n\r\nexport const Editar = (props) => {\r\n\r\n    const [id] = useState(props.match.params.id);\r\n    const [titulo, setTitulo] = useState('');\r\n    const [descricao, setDescricao] = useState('');\r\n\r\n    const [status, setStatus] = useState({\r\n        type: '',\r\n        mensagem: ''\r\n    })\r\n\r\n    const editProduto = async e => {\r\n        e.preventDefault();\r\n\r\n        await fetch(\"http://localhost/celke/editar.php\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ id, titulo, descricao })\r\n        }).then((response) => response.json())\r\n            .then((responseJson) => {\r\n                console.log(responseJson);\r\n                if (responseJson.erro) {\r\n                    setStatus({\r\n                        type: 'erro',\r\n                        mensagem: responseJson.mensagem\r\n                    });\r\n                } else {\r\n                    setStatus({\r\n                        type: 'success',\r\n                        mensagem: responseJson.mensagem\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'erro',\r\n                    mensagem: \"Produto não editado com sucesso, tente mais tarde!\"\r\n                });\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getProduto = async () => {\r\n            await fetch(\"http://localhost/celke/visualizar.php?id=\" + id)\r\n                .then((response) => response.json())\r\n                .then((responseJson) => {\r\n                    setTitulo(responseJson.produto.titulo);\r\n                    setDescricao(responseJson.produto.descricao);\r\n                });\r\n        }\r\n        getProduto();\r\n    }, [id]);\r\n\r\n    return (\r\n        <Container>\r\n            <ConteudoForm>\r\n                <ConteudoTitulo>\r\n                    <Titulo>Editar</Titulo>\r\n                    <BotaoAcao>\r\n                        <Link to=\"/\">\r\n                            <ButtonInfo>Listar</ButtonInfo>\r\n                        </Link>\r\n                    </BotaoAcao>\r\n                </ConteudoTitulo>\r\n\r\n                {status.type === 'erro' ? <AlertDanger>{status.mensagem}</AlertDanger> : \"\"}\r\n                {status.type === 'success' ? <AlertSuccess>{status.mensagem}</AlertSuccess> : \"\"}\r\n\r\n\r\n                <Form onSubmit={editProduto}>\r\n                    <Label>Título: </Label>\r\n                    <Input type=\"text\" name=\"titulo\" placeholder=\"Título do produto\" value={titulo} onChange={e => setTitulo(e.target.value)} />\r\n\r\n                    <Label>Descrição: </Label>\r\n                    <Input type=\"text\" name=\"descricao\" placeholder=\"Descrição do produto\" value={descricao} onChange={e => setDescricao(e.target.value)} />\r\n\r\n                    <ButtonWarning type=\"submit\">Editar</ButtonWarning>\r\n                </Form>\r\n\r\n            </ConteudoForm>\r\n        </Container>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}